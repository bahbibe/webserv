server {

    host 127.0.0.1
    listen 5500
    server_name example.com fghdhd.com
    index index.html index.php
    root  /home/kali/42_webserv/WWW
    error_page 501 ./WWW/err/501.html
    error_page 500 ./WWW/err/500.html
    error_page 404 ./WWW/err/404.html
    error_page 403 ./WWW/err/403.html
    error_page 400 ./WWW/err/400.html
    error_page 404 ./WWW/err/404.html
    error_page 405 ./WWW/err/405.html
    client_max_body_size 255
    autoindex off

    location /chunks {
        root ./WWW/test/chunks/
        allow GET POST DELETE
        # index index.html index.php
        autoindex  on
        upload on
        upload_path ./WWW/chunks/uploads/
    }

    location /b {
        root ./WWW/test/
        allow GET POST DELETE
        index index.html index.php
        autoindex  on
        upload on
        upload_path ./WWW/b/
    }

    location /php_upload_ {
        root /home/kali/42_webserv/WWW/uploads
        allow GET DELETE POST
        index /index.php
        autoindex  on
        upload  on
        cgi on
        cgi_upload_path ./WWW/uploads/cgi/
        upload_path /home/kali/42_webserv/WWW/uploads
        # return  https://google.com
    }

    location /images {
        root ./WWW/images
        allow GET DELETE
        index test.html _logo.png index.php
        autoindex  on
    }

    location / {
        root /home/kali/42_webserv/WWW
        index counter.php _index.html index.php
        allow GET POST DELETE
        autoindex on
        upload  on
        cgi on
        upload_path /home/kali/42_webserv/WWW/uploads
        cgi_upload_path /home/kali/42_webserv/WWW/uploads/cgi/
    }
}